"use strict";(self.webpackChunkultima_ng=self.webpackChunkultima_ng||[]).push([[1704],{1704:(V,h,a)=>{a.r(h),a.d(h,{FileAppModule:()=>N});var s=a(6895),T=a(433),m=a(5593),g=a(1795),d=a(6174),x=a(1327),_=a(4711),v=a(9364),e=a(1571),y=a(529);let Z=(()=>{var o;class l{constructor(t){this.http=t}getFiles(){return this.http.get("assets/demo/data/file-management.json").toPromise().then(t=>t.files).then(t=>t)}getMetrics(){return this.http.get("assets/demo/data/file-management.json").toPromise().then(t=>t.metrics).then(t=>t)}getFoldersSmall(){return this.http.get("assets/demo/data/file-management.json").toPromise().then(t=>t.folders_small).then(t=>t)}getFoldersLarge(){return this.http.get("assets/demo/data/file-management.json").toPromise().then(t=>t.folders_large).then(t=>t)}}return(o=l).\u0275fac=function(t){return new(t||o)(e.LFG(y.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),l})();var U=a(2453),b=a(359),A=a(8568),u=a(805);const F=["buttonEl"];function w(o,l){1&o&&(e.TgZ(0,"div",8),e._UZ(1,"i",9),e.TgZ(2,"span",10),e._uU(3,"Upload Files"),e.qZA(),e.TgZ(4,"span",11),e._uU(5,"Drop or select files"),e.qZA()())}function S(o,l){if(1&o){const n=e.EpF();e.TgZ(0,"div",14),e.NdJ("mouseenter",function(){const r=e.CHM(n).$implicit,p=e.oxw(3);return e.KtG(p.onImageMouseOver(r))})("mouseleave",function(){const r=e.CHM(n).$implicit,p=e.oxw(3);return e.KtG(p.onImageMouseLeave(r))}),e._UZ(1,"img",15),e.TgZ(2,"button",16,17),e.NdJ("click",function(i){const p=e.CHM(n).$implicit,c=e.oxw(3);return e.KtG(c.removeImage(i,p))}),e.qZA()()}if(2&o){const n=l.$implicit;e.xp6(1),e.Q6J("src",n.objectURL,e.LSH)("alt",n.name),e.xp6(1),e.Q6J("id",n.name)}}function q(o,l){if(1&o&&(e.TgZ(0,"div",12),e.YNc(1,S,4,3,"div",13),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.uploadedFiles)}}function M(o,l){if(1&o){const n=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){e.CHM(n),e.oxw();const i=e.MAs(3);return e.KtG(i.advancedFileInput.nativeElement.click())}),e.YNc(1,w,6,0,"div",6),e.YNc(2,q,2,1,"div",7),e.qZA()}if(2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.uploadedFiles.length),e.xp6(1),e.Q6J("ngIf",n.uploadedFiles.length)}}let O=(()=>{var o;class l{constructor(t){this.messageService=t,this.uploadedFiles=[]}onUpload(t){for(let i of t.files)this.uploadedFiles.push(i);this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully"})}onImageMouseOver(t){this.buttonEl.toArray().forEach(i=>{i.nativeElement.id===t.name&&(i.nativeElement.style.display="flex")})}onImageMouseLeave(t){this.buttonEl.toArray().forEach(i=>{i.nativeElement.id===t.name&&(i.nativeElement.style.display="none")})}removeImage(t,i){t.stopPropagation(),this.uploadedFiles=this.uploadedFiles.filter(r=>r!==i)}}return(o=l).\u0275fac=function(t){return new(t||o)(e.Y36(u.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-file-uploader"]],viewQuery:function(t,i){if(1&t&&e.Gf(F,5),2&t){let r;e.iGM(r=e.CRH())&&(i.buttonEl=r)}},features:[e._Bn([u.ez])],decls:5,vars:5,consts:[["key","fu"],[1,"card"],["name","demo[]","url","./upload.php","accept","image/*",1,"w-full",3,"customUpload","multiple","showUploadButton","showCancelButton","auto","onUpload","onSelect"],["fileUploader",""],["pTemplate","content"],[1,"w-full","py-3",2,"cursor","copy",3,"click"],["class","h-full flex flex-column justify-content-center align-items-center",4,"ngIf"],["class","flex flex-wrap gap-5",4,"ngIf"],[1,"h-full","flex","flex-column","justify-content-center","align-items-center"],[1,"pi","pi-upload","text-900","text-2xl","mb-3"],[1,"font-bold","text-900","text-xl","mb-3"],[1,"font-medium","text-600","text-md","text-center"],[1,"flex","flex-wrap","gap-5"],["class","h-full relative w-7rem h-7rem border-3 border-transparent border-round hover:bg-primary transition-duration-100 cursor-auto","style","padding: 1px;",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"h-full","relative","w-7rem","h-7rem","border-3","border-transparent","border-round","hover:bg-primary","transition-duration-100","cursor-auto",2,"padding","1px",3,"mouseenter","mouseleave"],[1,"w-full","h-full","border-round","shadow-2",3,"src","alt"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-primary","text-sm","absolute","justify-content-center","align-items-center","cursor-pointer",2,"top","-10px","right","-10px","display","none",3,"id","click"],["buttonEl",""]],template:function(t,i){1&t&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"p-fileUpload",2,3),e.NdJ("onUpload",function(p){return i.onUpload(p)})("onSelect",function(p){return i.onUpload(p)}),e.YNc(4,M,3,2,"ng-template",4),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("customUpload",!0)("multiple",!0)("showUploadButton",!0)("showCancelButton",!1)("auto",!0))},dependencies:[s.sg,s.O5,m.Hq,u.jx,g.H,U.FN,_.p],encapsulation:2}),l})();function J(o,l){if(1&o){const n=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"span",29),e._uU(4),e.qZA(),e.TgZ(5,"div")(6,"button",30),e.NdJ("click",function(i){e.CHM(n);const r=e.MAs(8);return e.KtG(r.toggle(i))}),e.qZA(),e._UZ(7,"p-menu",31,32),e.qZA()(),e.TgZ(9,"div")(10,"div",33),e._UZ(11,"div",34),e.qZA(),e.TgZ(12,"div",35)(13,"span",36),e._uU(14),e.qZA(),e.TgZ(15,"span",36),e._uU(16),e.qZA()()()()()}if(2&o){const n=l.$implicit,t=e.oxw();e.xp6(4),e.Oqu(n.title),e.xp6(2),e.Q6J("icon",n.icon),e.xp6(1),e.Q6J("popup",!0)("model",t.menuitems),e.xp6(3),e.Q6J("ngClass",n.color),e.xp6(1),e.Q6J("ngClass",n.fieldColor),e.xp6(3),e.Oqu(n.files),e.xp6(2),e.Oqu(n.fileSize)}}function B(o,l){if(1&o&&(e.TgZ(0,"div",37)(1,"div",38)(2,"div",11),e._UZ(3,"i",39),e.TgZ(4,"span",40),e._uU(5),e.qZA()(),e.TgZ(6,"span",41),e._uU(7),e.qZA()()()),2&o){const n=l.$implicit;e.xp6(3),e.Q6J("ngClass",n.icon),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.size)}}function j(o,l){1&o&&(e.TgZ(0,"tr")(1,"th",42),e._uU(2,"Name "),e._UZ(3,"p-sortIcon",43),e.qZA(),e.TgZ(4,"th",44),e._uU(5,"Date "),e._UZ(6,"p-sortIcon",45),e.qZA(),e.TgZ(7,"th",46),e._uU(8,"File Size "),e._UZ(9,"p-sortIcon",43),e.qZA(),e._UZ(10,"th",47),e.qZA())}function P(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td")(2,"div",11),e._UZ(3,"i"),e.TgZ(4,"span"),e._uU(5),e.qZA()()(),e.TgZ(6,"td")(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"td")(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"td",48),e._UZ(13,"button",49)(14,"button",50),e.qZA()()),2&o){const n=l.$implicit;e.xp6(3),e.Tol("text-xl text-primary mr-2 "+n.icon),e.xp6(2),e.Oqu(n.name),e.xp6(3),e.Oqu(n.date),e.xp6(3),e.Oqu(n.fileSize)}}const Q=function(){return{width:"75%"}};let E=(()=>{var o;class l{constructor(t,i){this.fileService=t,this.layoutService=i,this.files=[],this.metrics=[],this.folders=[],this.menuitems=[],this.subscription=this.layoutService.configUpdate$.subscribe(r=>{this.initChart()})}ngOnInit(){this.fileService.getFiles().then(t=>this.files=t),this.fileService.getMetrics().then(t=>this.metrics=t),this.fileService.getFoldersLarge().then(t=>this.folders=t),this.initChart(),this.menuitems=[{label:"View",icon:"pi pi-search"},{label:"Refresh",icon:"pi pi-refresh"}]}initChart(){const t=getComputedStyle(document.documentElement),i=t.getPropertyValue("--text-color");this.chartPlugins=[{beforeDraw:function(r){let p=r.ctx,c=r.width,C=r.height,z=p.fillStyle;p.restore(),p.font="1.5rem sans-serif",p.textBaseline="middle";let f="Free Space",H=Math.round((c-p.measureText(f).width)/2),G=(C+r.chartArea.top)/2.25,$=Math.round((c-p.measureText(f).width)/2.1),L=(C+r.chartArea.top)/1.75;p.fillStyle=r.config.data.datasets[0].backgroundColor[0],p.fillText(f,H,G),p.fillText("50GB / 80GB",$,L),p.fillStyle=z,p.save()}}],this.fileChart={datasets:[{data:[300,100],backgroundColor:[t.getPropertyValue("--primary-600"),t.getPropertyValue("--primary-100")],hoverBackgroundColor:[t.getPropertyValue("--primary-700"),t.getPropertyValue("--primary-200")],borderColor:"transparent",fill:!0}]},this.fileChartOptions={animation:{duration:0},cutout:"90%",plugins:{legend:{labels:{color:i}}}}}}return(o=l).\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(A.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:50,vars:11,consts:[[1,"grid"],["class","col-12 md:col-6 lg:col-3",4,"ngFor","ngForOf"],[1,"col-12","md:col-5","xl:col-3"],[1,"card"],[1,"text-900","text-xl","font-semibold","mb-3"],["type","doughnut","id","country-chart",3,"plugins","data","options"],[1,"mt-5","flex","gap-3"],["pButton","","pRipple","","icon","pi pi-search","label","Details",1,"p-button-outlined","flex-1"],["pButton","","pRipple","","icon","pi pi-upload","label","Upgrade",1,"flex-1"],[1,"list-none","p-0","m-0"],[1,"p-3","mb-3","flex","align-items-center","justify-content-between","cursor-pointer","border-round","bg-indigo-50","text-indigo-900"],[1,"flex","align-items-center"],[1,"pi","pi-image","text-2xl","mr-3"],[1,"ext-lg","font-medium"],[1,"text-lg","font-bold"],[1,"p-3","mb-3","flex","align-items-center","justify-content-between","cursor-pointer","border-round","bg-purple-50","text-purple-900"],[1,"pi","pi-file","text-2xl","mr-3"],[1,"p-3","flex","align-items-center","justify-content-between","cursor-pointer","border-round","bg-teal-50","text-teal-900"],[1,"pi","pi-video","text-2xl","mr-3"],[1,"card","p-0"],[1,"col-12","md:col-7","xl:col-9"],["class","col-12 md:col-6 xl:col-4",4,"ngFor","ngForOf"],["responsiveLayout","scroll",3,"value","rows","paginator"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"col-12","md:col-6","lg:col-3"],[1,"card","h-full"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-900","text-xl","font-semibold"],["pButton","","pRipple","",1,"p-button-text","p-button-sm","p-button-rounded",3,"icon","click"],["appendTo","body",3,"popup","model"],["menu",""],[1,"border-round",2,"height","6px",3,"ngClass"],[1,"h-full","border-round",2,"width","34%",3,"ngClass"],[1,"flex","align-item-center","justify-content-between"],[1,"text-900","mt-3","text-md","font-medium"],[1,"col-12","md:col-6","xl:col-4"],[1,"p-3","border-1","surface-border","flex","align-items-center","justify-content-between","hover:surface-100","cursor-pointer","border-round"],[1,"text-2xl","mr-3",3,"ngClass"],[1,"text-900","text-lg","font-medium"],[1,"text-600","text-lg","font-semibold"],["pSortableColumn","name",1,"white-space-nowrap",2,"min-width","12rem"],["field","name"],["pSortableColumn","date",1,"white-space-nowrap",2,"min-width","12rem"],["field","date"],["pSortableColumn","fileSize",1,"white-space-nowrap",2,"min-width","12rem"],[2,"width","10rem"],[1,"text-center"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-danger","p-button-text","p-button-rounded","mr-2"],["pButton","","pRipple","","icon","pi pi-search",1,"p-button-text","p-button-rounded"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,J,17,8,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5,"Account Storage"),e.qZA(),e._UZ(6,"p-chart",5),e.TgZ(7,"div",6),e._UZ(8,"button",7)(9,"button",8),e.qZA()(),e.TgZ(10,"div",3)(11,"div",4),e._uU(12,"Categories"),e.qZA(),e.TgZ(13,"ul",9)(14,"li",10)(15,"div",11),e._UZ(16,"i",12),e.TgZ(17,"span",13),e._uU(18,"Images"),e.qZA()(),e.TgZ(19,"span",14),e._uU(20,"85"),e.qZA()(),e.TgZ(21,"li",15)(22,"div",11),e._UZ(23,"i",16),e.TgZ(24,"span",13),e._uU(25,"Documents"),e.qZA()(),e.TgZ(26,"span",14),e._uU(27,"231"),e.qZA()(),e.TgZ(28,"li",17)(29,"div",11),e._UZ(30,"i",18),e.TgZ(31,"span",13),e._uU(32,"Videos"),e.qZA()(),e.TgZ(33,"span",14),e._uU(34,"40"),e.qZA()()()(),e.TgZ(35,"div",19),e._UZ(36,"app-file-uploader"),e.qZA()(),e.TgZ(37,"div",20)(38,"div",3)(39,"div",4),e._uU(40,"Folders"),e.qZA(),e.TgZ(41,"div",0),e.YNc(42,B,8,3,"div",21),e.qZA()(),e.TgZ(43,"div",3)(44,"div",4),e._uU(45,"Recent Uploads"),e.qZA(),e.TgZ(46,"p-table",22,23),e.YNc(48,j,11,0,"ng-template",24),e.YNc(49,P,15,5,"ng-template",25),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.metrics),e.xp6(5),e.Akn(e.DdM(10,Q)),e.Q6J("plugins",i.chartPlugins)("data",i.fileChart)("options",i.fileChartOptions),e.xp6(36),e.Q6J("ngForOf",i.folders),e.xp6(4),e.Q6J("value",i.files)("rows",8)("paginator",!0))},dependencies:[s.mk,s.sg,m.Hq,u.jx,g.H,d.iA,d.lQ,d.fz,x.v2,v.C,O],styles:["[_nghost-%COMP%]     .p-fileupload-content{border:0 none}[_nghost-%COMP%]     .p-fileupload-row{display:none}[_nghost-%COMP%]     .p-progressbar{display:none}[_nghost-%COMP%]     .p-fileupload{padding:0}[_nghost-%COMP%]     .p-fileupload-buttonbar{display:none}"]}),l})(),I=(()=>{var o;class l{}return(o=l).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[b.Bz.forChild([{path:"",component:E}]),b.Bz]}),l})(),N=(()=>{var o;class l{}return(o=l).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[Z],imports:[s.ez,I,T.u5,m.hJ,g.T,U.EV,d.U$,x.$9,_.O,v.S]}),l})()}}]);